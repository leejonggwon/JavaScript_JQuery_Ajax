<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>			
		
	<div id="result-area"></div>
	<button id="req-btn">서버요청</button>
	<p id="req_result"></p>
	<p id="res_result"></p>
	
	
	<script src="./js/jquery-3.7.1.js"></script>
	<script>
		//버튼을 클릭했을 때 서버에 요청하는 이벤트 구현
		$("#req-btn").on("click", function(){
			
			//서버에 비동기통신을 하기 위한 ajax() 구현
			$.ajax({
				//url:"ajax?data=1234&data2=Hello", //get방식 데이터 보내기
				url:"ajax",
				type:"get",                      //데이터를 전송하는 방식(get/post)
				data:{data:1234, data2:"Hello"}, //객체형태로 데이터를 전달
				success:function(res){           //res: 응답받는 매게변수
					console.log("요청성공");
					$("#req_result").text("요청성공");
					
					console.log("응답 받은 데이터:", res); //문자열	
					$("#res_result").html("응답 받은 데이터: "+ res);	
					
					console.log({data:1234, data2:"Hello"}); //객체	
					
					//응답받은 데이터가 JSON형식의 문자열데이터인 경우 
					//JSON.parse()를 이용해서 객체로 변환해줘야 한다!
					let obj = JSON.parse(res);//문자열 → 객체로 변환
					console.log(obj, obj.data, obj.num)//객체			
								
				},
				error:function(){
					alert("요청실패");
					$("#req_result").text("요청실패");
				}
			});
			
		});
		
		
		
		
	</script>
</body>
</html>